containers:
  - name: cart-service
    image:
      repository: public.ecr.aws/j1n2c2p2/microservices-demo/cartservice
      tag: v0.4.0
    services:
      - cart-service-port60000

services:
  - name: cart-service-port60000
    port: 60000
    secure: false
    protocol: rest
    endpoints:
      - cart-service

endpoints:
  - name: cart-service
    path: "/cart/user_id/{user_id}"
    methods:
      - type: 'DELETE'
        name: cart-service-delete
      - type: 'GET'
        responseValue: GetCartResponse
        name: cart-service-get
      - type: 'POST'
        name: cart-service-post

responseValues:
  - name: GetCartResponse
    blob: |
      {
        "user_id": "abcde",
        "items": [
          {
            "product_id": "OLJCESPC7w",
            "quantity": 2
          },
          {
            "product_id": "1YMWWN1N40",
            "quantity": 1
          },
          {
            "product_id": "66VCHSJNUP",
            "quantity": 3
          }
        ]
      }
